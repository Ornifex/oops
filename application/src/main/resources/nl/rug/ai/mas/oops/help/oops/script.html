<html>
<head><title>Scripting OOPS</title></head>
<body>

<h1>Scripting OOPS</h1>

<p>If you haven't read the <a href="intro.html">introduction</a>, it is strongly recommended to do so first.</p>
<p>In addition to the creation of theories, and subsequently testing provability and satisfiability, the Lua interface provides a set of additional capabilities, which will be addressed in this page.</p>
<h3>Formula substitution</h3>
<p>It is possible to create a formula template in Lua, and subsequently substitute parts of it with the desired values. To do this, create a formula using oops.Formula(<em>formula</em>). In this formula, it is possible to define variables using uppercase characters (A-Z). If no variables are defined, the return value of these will act exactly the same as if you typed it in directly as an argument to one of the theory methods.</p>
<p>Once a template formula is made, calling the substitute(<em>formulaSubstitutions</em>, <em>agentSubsitutions</em>), will substitite the given forumas and agents (in the format of {Variable1 = Value1[, &nbsp;Variable2 = Value2]}, etc) and will return the new formula.</p>
<p>An example of this:</p>
<p>f = oops.Formula("#_I A"):substitute({A = "a"}, {I = "1"})</p>
<p>This will create a formula "#_I A" with the variables I and A, and subsequently substitutes these by replacing the formula A with a and the agent I with 1, resulting in the formula #_1 a.</p>
<h3>Changing prover</h3>
<p>Using a simple Lua function it is possible to change the current prover to another one at any time. To do so, just call oops.setProver(<em>name</em>), with the name of the new axiom system to use (i.e. oops.setProver("S5")). If desired it is possible to obtain a list of available provers using oops.getProvers(), this will return an array with all available provers.</p>
<p>An example of a way to display all provers in the console is shown below:</p>
<pre>provers = oops.getProvers()<br /><br />for k,v in pairs(provers) do<br />&nbsp; &nbsp; &nbsp;print(v)<br />end</pre>
<h3>Attaching visualizers</h3>
<p>It is sometimes more interesting to see why a formula can or cannot be proven, instead of just getting true or false as a response. Therefore, it is possible to attach visualizers to OOPS.</p>
<p>There are currently three visualizers available:</p>
<ul>
<li>Tableau visualizer, which shows the final tableau that was generated by OOPS.</li>
<li>Tableau solving observer, which shows the solving steps (in the console) that were taking to generate the final tableau.</li>
<li>Kripke model visualizer, which shows a kripke model of a counter example. (NOTE: Since this shows a counter example, provable formulas will not show a model)</li>
</ul>
<p>The tableau visualizer can be added very easily, simply add the following line in the editor, before any proving takes place: oops.attachTableauVisualizer(). Once this is done, any call to provable, satisfiable or consistent will bring up a new window showing the tableau that was generated.</p>
<p>Similarly, tableau solving observers can be added in the same fashion, simply call oops.attachTableauObserver() and all tableau steps will be shown in the console.</p>
<p>Finally, adding kripke model visualization requires two steps, first the constructor must be attached, which is done by oops.attachModelConstructor(), and after using provable, satisfiable or consistent, the constructed model can be visualized by calling oops.showModel()</p>
<p>One important thing to remember is that these visualizers are attached to the current prover. Therefore, if the prover is changed (using oops.setProver), the visualizers will need to be attached again.</p></p>

</body>
</html>
